<!DOCTYPE HTML>
<!--
    Stellar by HTML5 UP
    html5up.net | @ajlkn
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
<head>
    <link rel="icon" type="image/png" href="images/shirt_black.png" />
    <title>How it works - Futuwear V2</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="assets/css/main.css" />
    <!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
    <!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
</head>
<body>

    <!-- Wrapper -->
    <div id="wrapper">

        <!-- Header -->
        <header id="header">
            <h1>How it works</h1>
            <p>The Futuwear V2</p>
        </header>

        <!-- Nav -->
        <nav id="nav">
            <ul>
                <li><a href="#MCU" class="active">MCU</a></li>
                <li><a href="#IMU">IMUs</a></li>
                <li><a href="#WEB">Web interface</a></li>
                <li><a href="#Clothing">Clothing</a></li>
                <li><a href="#Cases">Cases</a></li>
            </ul>
        </nav>

        <!-- Main -->
        <div id="main">

            <!-- Content -->
            <section id="content" class="main">
                <div class="box alt">
                    <div class="row uniform">
                        <div class="4u"><span class="image fit"><img src="images/MPU-9250_IRL.jpg" alt="" /></span></div>
                        <div class="5u"><span class="image fit"><img src="images/Magnetometer_test.jpg" alt="" /></span></div>
                        <div class="3u$"><span class="image fit"><img src="images/pcb_irl_no_components.jpg" alt="" /></span></div>
                    </div>
                </div>
                <section id="MCU" class="main special">
                    <header class="major">
                        <h2><b>MCU (Main Processor Unit)</b></h2>
                    </header>
                    <ul class="features">
                        <p>
                            <span class="image right"><img src="images/mcu_finished_front.jpg" alt="" /></span>
                            The main processor unit is integrated into the ESP32-WROOM module from Espressiff. The power of the MCU is far greater than of any AVR solution and the module even has a built-in WiFi antenna. The main PCB also houses the LDO (low-dropout regulator),
                            LiPo connector, battery protection circuit, charger, USB-serial converter and the USB-port, which are all needed for nominal performance. The size of the main PCB has been reduced to a remarkable 61x50mm (2.40x1.97 inch)
                            enclosure to ensure the best esthetics and comfort we can accomplish without compromises.
                            <br /> <br />
                            The LDO (or low-dropout regulator) is a device, that drops the voltage of the LiPo battery to the 3.3V required by the main circuit (the MCU and USB to serial converter). It offers low voltage drops and excellent efficiency
                            so that we can extend the operating time of the board with the LiPo pack. <br /> <br />

                            The battery protection circuit (BQ29733DSER) ensures that the voltage of the LiPo battery doesn't fall below the dangerous 3.0V LiPo limit, after which one cell LiPo batteries tend to be irreversibly damaged. The battery protection circuit also
                            prevents the N-channel MOSFETs from delivering current to the board during a fault in one of the components or a short circuit on the board. <br /> <br />

                            The charger (MCP73831) makes it possible to charge the LiPo battery via the USB port, while it's connected to the board. The circuit easily handles 5.0V, so it can be charged and powered from a computer's USB hub.
                            The MCP73831 is a programmable charger, which delivers 500mA to the battery pack. The charger communicates with the BQ29733DSER, so that it knows when the battery is being charged and activates the MOSFETs to allow current flow. The charger
                            also has a status indicator LED, which lights up when the battery is charged to its maximum. <br /> <br />

                            The USB to Serial converter (CP2102-GM) makes it possible to program the ESP32 WROOM module.
                            The converter also sends out an indication voltage, which lets the computer know that a successful USB connection has been established with the slave device.<br />
                        </p>

                        <p>
                            The MCU connects to external IMU sensors right off the board, with the help of snap fasteners, to ensure easy attachment and deattachment of the MCU itself from the smart clothing.  <br />
                        </p>
                        </ul>
</section>

                <section id="IMU" class="main special">
                    <header class="major">
                        <h2><b>IMUs (Inertial Measurement Unit)</b></h2>
                    </header>
                    <ul class="features">
                        <p>
                            <span class="image left"><img src="images/imu_case.jpg" alt="" /></span>
                            The inertial measurement units (or IMUs for short) are state of the art 9 DoF (Degrees of Freedom) sensors which make it possible to precisely map the movements of the user and deliver reliable information to the server. The IMUs used in this product are the MPU-9250s from Sparkfun and their 3D-printed enclosures keep the precious sensors safe and sound from external threats.
                            They also ensure low current consumption, with an average current draw of about 4mA during normal usage.
                            <br /> <br />
                            The IMUs have an acelerometer, a gyroscope and a magnetometer, all in one small package. Every gyroscopic sensor experiences drift over time, and this drift can be recalibrated and fixed with the data coming in from the accelerometer. However in such cases, in which the sensor (and the user) are moving, the accelerometer experiences 'vibrations' which make its data useless in recalibrating the gyros
                            when the subject is in movement. This problem is overcome with the help of a magnetometer, which gives us the exact orientation of the sensor at all times, so that recalibration is possible and the clothing can continue to deliver accurate sensory data for a prolonged period of time. <br />
                        </p>
                        </ul>
</section>

                <section id="WEB" class="main special">
                    <header class="major">
                        <h2><b>The Web Interface</b></h2>
                    </header>
                    <ul class="features">
                        <p>
                            The ESP32-WROOM first connects to the domain where the website is hosted (in this case Aalto University) using UDP (User Datagram Protocol) , then the data is processed on the server and
                            sent to the web interface (in the browser) through the WebSocket protocol. The data is then used to control a 3D model of a torso on the web interface.
                        </p>
                        <span class="image main">
                            <img alt="" src="images/torso_interface.png"></img>
                        </span>
                        <p>
                            As the image above illustrates, the web interface is very dynamic and easy to use. Set up everything and the smart clothing is sending data directly to the interface.
                            Then the model replicates the exact movements of the user in real-time*.
                            <br />
                        </p>
                    </ul>
</section>
                <section id="Clothing" class="main special">
                    <header class="major">
                        <h2><b>The Clothing</b></h2>
                    </header>
                    <ul class="features">
                        <p>
                            The clothing uses an elastic and breathing material as the base of the wearable. It is comfortable to wear and tight enough that it provides a good base for the sensors. The MCU connects to the clothing itself with the help of snap fasteners, to which wires have been routed through the fabric of the clothing itself.
                            The MCU is located on the backside of the clothing, which makes removing and using the MCU easy and convienient.
                        </p>
                        <p>
                            <span class="image left"><img src="images/clothing_back.jpg" alt="" /></span>
                            The main clothing is a white hoodie with a zipper. The design of the clothing itself and the fact that it has a zipper, made it possible to easily sow the traces into the fabric itself.
                            Also it is easier to put on, when the user doesn't have to worry about damaging any connections of the clothing. The connections are secured with extra padding material,
                            so that it's possible to wear the clothing as a normal hoodie without the fear of any inner connections breaking or shorting out.
                            The main MCU board is located on the back-side of the user and the traces are routed conviniently through the back of the clothing to all the sensors. We made a case for the MCU and the LiPo battery, which are secured in a pouch,
                            so that the rough edges of the case don't disturb or hurt the user. <br /> <br />

                            The fabric itself also feels nice and the clothing is comfortable to wear, even for extended periods, which improves the usability of the smart clothing during the course of a day.

                        </p>
                        <p>
                            <span class="image right"><img src="images/imu_pouch.jpg" alt="" /></span>
                            The sensors connect to the clothing itself, using bands made from strethcing fabric and velcro and with the same snap fasteners as the MCU. This makes them modular and easily removable,
                            so that the shirt can be machine-washed, without harming the sensitive electronics. This design also makes it possible to, for example only use two sensors to map the movements of one arm,
                            if the user doesn't have 5 sensors in total. This offers flexability to the end user, if they don't want to invest in more sensors
                        </p>
                    </ul>
</section>
                <section id="Cases" class="main special">
                    <header class="major">
                        <h2><b>The Cases</b></h2>
                    </header>
                    <ul class="features">
                        <p>
                            <span class="image left"><img src="images/pcb_case_front.jpg" alt="" /></span>
                            The clothing houses the MCU PCB as well as the IMUs in 3D printed enclosures. These were custom designed specifically in SketchUp, to ensure that the openings and sizes are correct and sleek for our applications.
                            All the cases in the prototype have been designed with attention to detail. Every lid snaps into place with a satisfying 'click' and stay attached even in the most demanding conditions. <br /> <br />
                            The cases have gone through multiple iterations and they are now suited to serve the prototype's every need. The 3D-printed structure is durable but also surprisingly flexible and discreet enough to be hidden in the attachable bands. <br /> <br /> <br /> <br /> <br />
                        </p>
                        <p>
                            <span class="image right"><img src="images/imu_case_closed.jpg" alt="" /></span>
                            The IMU cases as well are an integral part of the project, as they provide protection against wear and tear on the cables in the IMU pouches, which are attached to the clothing. They offer a lid to protect them from falling out
                            and a wall, that prevents the user from sliding the lid off the case.
                        </p>
                        <p>
                            All the materials, including
                            the 3D-models are available on the project's <a target="_blank" href="https://github.com/Futuwear-V2/Futuwear-V2">GitHub page</a>.
                        </p>
                        </ul>
</section>
                </section>
        </div>

        <!-- Footer -->
        <footer id="footer">
            <section>
                <p>
                    *Real-time performance is subjective, and every application utilizing wireless data transmission will inevitably experince some latency due to newtwork speeds and data processing.
                </p>

                <h2>Resources</h2>
                <p>
                    Here are the resources and materials used in the project. Links to Aalto University, the projects GitHub page and Futurice Oy (The sponsoring company).
                </p>
                <ul class="icons">
                    <li><a target="_blank" href="https://www.aalto.fi/en" class="icon alt fa fa-graduation-cap"><span class="label">Aalto University</span></a></li>
                    <li><a target="_blank" href="https://github.com/Futuwear-V2/Futuwear-V2" class="icon alt fa-github"><span class="label">GitHub</span></a></li>
                    <li><a target="_blank" href="https://www.futurice.com" class="icon alt fa-briefcase"><span class="label">Futurice</span></a></li>
                </ul>
            </section>
            <section>
                <h2>Find out more (requires WebGL):</h2>
                <p>Press the mysterious button. <br /> Don't be afraid, <br /> the button is your friend.</p>
                <ul class="actions">
                    <li><a href="https://protopaja.aalto.fi/futuricec/demo/" class="button">Mysterious button</a></li>
                </ul>
            </section>
            <p> Design: <a href="https://html5up.net">HTML5 UP</a></p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/skel.min.js"></script>
    <script src="assets/js/util.js"></script>
    <!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
    <script src="assets/js/main.js"></script>

</body>
</html>